{% extends 'app_web/base.html' %}
{% load static %}
{% load qr_tags %}
{% block content %}
{#<div class="container">#}
{#    <div class="row">#}
{#        <div class="col-md-12 col-sm-12 col-xs-12 top20 bottom20" style="font-size:25px; font-weight:bold;">登入<img src="{% static 'images/LINE.png' %}" class="img-responsive top5" alt="" /> </div>#}
{#    </div>#}
{#</div>#}
    <!-- 內容電腦網頁版 -->
    <div class="container pc_top">
        <div class="row bottom40">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div style="padding-top: 30px;">
                    <div class="text-center" ><h3>健康通行人員防疫管理平台</h3></div>
                    <div style="height: 20px;"></div>
                    <div class="text-center">
                        <div class="col-md-3 ">&nbsp;</div>
                        <div class="col-md-6 "><button onclick="health_code_btn('{{ request.app_user.pub_id }}', '{{ request.app_user.api_token }}')" class="btn form-control" style="border-radius:11px; height:60px; background-color: #82cf58;color: white; font-size: 20px;">健康碼</button></div>
                        <div class="col-md-3 ">&nbsp;</div>
                    </div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-3 ">&nbsp;</div>
                        <div class="col-md-6" ><button onclick="health_question_btn('{{ request.app_user.pub_id }}', '{{ request.app_user.api_token }}')" class="btn form-control" style="border-radius:11px; height:60px; background-color: #79c4b8;color: white; font-size: 20px;">健康調查表</button></div>
                        <div class="col-md-3 ">&nbsp;</div>
                    </div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-3">&nbsp;</div>
                        <div class="col-md-6"><button onclick="qrCamera()" class="btn form-control" style="border-radius:11px; height:60px; background-color: #ffd32d;color: white; font-size: 20px;">掃描</button></div>
                        <div class="col-md-3">&nbsp;</div>
                    </div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-3">&nbsp;</div>
                        <div class="col-md-6"><button class="btn form-control" style="border-radius:11px; height:60px; background-color: #dc4535;color: white; font-size: 20px;">設定</button></div>
                        <div class="col-md-3">&nbsp;</div>
                    </div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-3">&nbsp;</div>
                        <div class="col-md-6"><button onclick="get_announcement('{{ request.app_user.pub_id }}', '{{ request.app_user.api_token }}')" class="btn form-control" style="border-radius:11px; height:60px; background-color: #75bdbe;color: white; font-size: 20px;">防疫資訊</button></div>
                        <div class="col-md-3">&nbsp;</div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- 內容手機app -->
    <div class="container mobile_top">
        <div class="row bottom40">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div style="padding-top: 30px;">
                    <div class="text-center" ><h4>健康通行人員防疫管理平台</h4></div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-12"><button onclick="health_code_btn('{{ request.app_user.pub_id }}', '{{ request.app_user.api_token }}')" class="btn form-control" style="border-radius:11px; height:60px; background-color: #82cf58;color: white; font-size: 20px;">健康碼</button></div>
                    </div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-12"><button onclick="health_question_btn('{{ request.app_user.pub_id }}', '{{ request.app_user.api_token }}')" class="btn form-control" style="border-radius:11px; height:60px; background-color: #79c4b8;color: white; font-size: 20px;">健康調查表</button></div>
                    </div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-12"><button onclick="qrCamera()" class="btn form-control" style="border-radius:11px; height:60px; background-color: #ffd32d;color: white; font-size: 20px;">掃描</button></div>
                    </div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-12"><button class="btn form-control" style="border-radius:11px; height:60px; background-color: #dc4535;color: white; font-size: 20px;">設定</button></div>
                    </div>
                    <div style="height: 5px;"></div>
                    <div class="text-center">
                        <div class="col-md-12"><button onclick="get_announcement('{{ request.app_user.pub_id }}', '{{ request.app_user.api_token }}')" class="btn form-control" style="border-radius:11px; height:60px; background-color: #75bdbe;color: white; font-size: 20px;">防疫資訊</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script>
        function health_code_btn(pub_id, api_token) {
            var api_url = "{% url 'health-code' 'field__1' 'field__2' %}".replace('field__1', pub_id);
            api_url = api_url.replace('field__2', api_token);
            {#alert(api_url);#}
            location.href = api_url;
        }
        function health_question_btn(pub_id, api_token) {
            var api_url = "{% url 'health' 'field__1' 'field__2' %}".replace('field__1', pub_id);
            api_url = api_url.replace('field__2', api_token);
            {#alert(api_url);#}
            location.href = api_url;
        }
        function qrCamera() {
            try {
                if (webkit != undefined) {
                    webkit.messageHandlers.scanQrCode.postMessage({});
                }
            } catch (err) {

            }
            try {
                if (window.scanQrCode != undefined) {
                    window.scanQrCode.postMessage();
                }
            } catch (err) {

            }
        }
        function get_announcement(pub_id, api_token) {
            var api_url = "{% url 'announcement' 'field__1' 'field__2' %}".replace('field__1', pub_id);
            api_url = api_url.replace('field__2', api_token);
            location.href = api_url;
        }
    </script>
{% endblock %}